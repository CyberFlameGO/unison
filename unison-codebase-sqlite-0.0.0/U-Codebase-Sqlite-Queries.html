<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>U.Codebase.Sqlite.Queries</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-codebase-sqlite-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/U.Codebase.Sqlite.Queries.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">U.Codebase.Sqlite.Queries</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Constraint kinds</a></li><li><a href="#g:2">Error types</a></li><li><a href="#g:3">text table</a></li><li><a href="#g:4">hash table</a></li><li><a href="#g:5">hash_object table</a></li><li><a href="#g:6">object table</a></li><li><a href="#g:7">namespace_root table</a></li><li><a href="#g:8">causals</a><ul><li><a href="#g:9">causal table</a></li><li><a href="#g:10">causal_parent table</a></li></ul></li><li><a href="#g:11">watch table</a></li><li><a href="#g:12">indexes</a><ul><li><a href="#g:13">dependents index</a></li><li><a href="#g:14">type index</a></li><li><a href="#g:15">type mentions index</a></li></ul></li><li><a href="#g:16">hash prefix lookup</a></li><li><a href="#g:17">garbage collection</a></li><li><a href="#g:18">db misc</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:DB">DB</a> m = (<a href="../base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../adjunctions-4.4/Control-Monad-Representable-Reader.html#t:MonadReader" title="Control.Monad.Representable.Reader">MonadReader</a> <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:EDB">EDB</a> m = (<a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:Err" title="U.Codebase.Sqlite.Queries">Err</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Err">Err</a> m = (<a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> m, <a href="../base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Integrity">Integrity</a><ul class="subs"><li>= <a href="#v:UnknownHashId">UnknownHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li>| <a href="#v:UnknownTextId">UnknownTextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></li><li>| <a href="#v:UnknownObjectId">UnknownObjectId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li>| <a href="#v:UnknownCausalHashId">UnknownCausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li>| <a href="#v:UnknownHash">UnknownHash</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li>| <a href="#v:NoObjectForHashId">NoObjectForHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li>| <a href="#v:NoObjectForPrimaryHashId">NoObjectForPrimaryHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li>| <a href="#v:NoNamespaceRoot">NoNamespaceRoot</a></li><li>| <a href="#v:MultipleNamespaceRoots">MultipleNamespaceRoots</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li>| <a href="#v:NoSchemaVersion">NoSchemaVersion</a></li><li>| <a href="#v:MultipleSchemaVersions">MultipleSchemaVersions</a> [<a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a>]</li><li>| <a href="#v:NoTypeIndexForTerm">NoTypeIndexForTerm</a> <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a></li></ul></li><li class="src short"><a href="#v:saveText">saveText</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></li><li class="src short"><a href="#v:loadText">loadText</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>)</li><li class="src short"><a href="#v:loadTextById">loadTextById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:saveHash">saveHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:saveHashHash">saveHashHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:loadHashId">loadHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:loadHashById">loadHashById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a></li><li class="src short"><a href="#v:loadHashHashById">loadHashHashById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:loadHashIdByHash">loadHashIdByHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:expectHashIdByHash">expectHashIdByHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:saveCausalHash">saveCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li class="src short"><a href="#v:loadCausalHash">loadCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:saveBranchHash">saveBranchHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></li><li class="src short"><a href="#v:saveHashObject">saveHashObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:hashIdsForObject">hashIdsForObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:hashIdWithVersionForObject">hashIdWithVersionForObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</li><li class="src short"><a href="#v:expectObjectIdForPrimaryHashId">expectObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:expectObjectIdForAnyHashId">expectObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:maybeObjectIdForPrimaryHashId">maybeObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:maybeObjectIdForAnyHashId">maybeObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:recordObjectRehash">recordObjectRehash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m ()</li><li class="src short"><a href="#v:saveObject">saveObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadObjectById">loadObjectById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:loadPrimaryHashByObjectId">loadPrimaryHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a></li><li class="src short"><a href="#v:loadObjectWithTypeById">loadObjectWithTypeById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:loadObjectWithHashIdAndTypeById">loadObjectWithHashIdAndTypeById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:updateObjectBlob">updateObjectBlob</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:loadMaybeNamespaceRoot">loadMaybeNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:setNamespaceRoot">setNamespaceRoot</a> :: <span class="keyword">forall</span> m. <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m ()</li><li class="src short"><a href="#v:loadNamespaceRoot">loadNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li class="src short"><a href="#v:saveCausal">saveCausal</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; m ()</li><li class="src short"><a href="#v:isCausalHash">isCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:loadCausalHashIdByCausalHash">loadCausalHashIdByCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:loadCausalValueHashId">loadCausalValueHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></li><li class="src short"><a href="#v:loadCausalByCausalHash">loadCausalByCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>))</li><li class="src short"><a href="#v:loadBranchObjectIdByCausalHashId">loadBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>)</li><li class="src short"><a href="#v:saveCausalParents">saveCausalParents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; m ()</li><li class="src short"><a href="#v:loadCausalParents">loadCausalParents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:before">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:lca">lca</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:saveWatch">saveWatch</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:loadWatch">loadWatch</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:loadWatchesByWatchKind">loadWatchesByWatchKind</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a>]</li><li class="src short"><a href="#v:loadWatchKindsByReference">loadWatchKindsByReference</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a>]</li><li class="src short"><a href="#v:clearWatches">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:addToDependentsIndex">addToDependentsIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m ()</li><li class="src short"><a href="#v:getDependentsForDependency">getDependentsForDependency</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:getDependentsForDependencyComponent">getDependentsForDependencyComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:getDependenciesForDependent">getDependenciesForDependent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a>]</li><li class="src short"><a href="#v:getDependencyIdsForDependent">getDependencyIdsForDependent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:addToTypeIndex">addToTypeIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m ()</li><li class="src short"><a href="#v:getReferentsByType">getReferentsByType</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>]</li><li class="src short"><a href="#v:getTypeReferenceForReferent">getTypeReferenceForReferent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:getTypeReferencesForComponent">getTypeReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)]</li><li class="src short"><a href="#v:addToTypeMentionsIndex">addToTypeMentionsIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m ()</li><li class="src short"><a href="#v:getReferentsByTypeMention">getReferentsByTypeMention</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>]</li><li class="src short"><a href="#v:getTypeMentionsReferencesForComponent">getTypeMentionsReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)]</li><li class="src short"><a href="#v:objectIdByBase32Prefix">objectIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>]</li><li class="src short"><a href="#v:namespaceHashIdByBase32Prefix">namespaceHashIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>]</li><li class="src short"><a href="#v:causalHashIdByBase32Prefix">causalHashIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:vacuum">vacuum</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:garbageCollectObjectsWithoutHashes">garbageCollectObjectsWithoutHashes</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:garbageCollectWatchesWithoutObjects">garbageCollectWatchesWithoutObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:countObjects">countObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:countCausals">countCausals</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:countWatches">countWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:getCausalsWithoutBranchObjects">getCausalsWithoutBranchObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:createSchema">createSchema</a> :: (<a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m, <a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m) =&gt; m ()</li><li class="src short"><a href="#v:schemaVersion">schemaVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a></li><li class="src short"><a href="#v:setSchemaVersion">setSchemaVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; m ()</li><li class="src short"><a href="#v:setFlags">setFlags</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:DataVersion">DataVersion</a></li><li class="src short"><a href="#v:dataVersion">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></li><li class="src short"><a href="#v:savepoint">savepoint</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:release">release</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:rollbackRelease">rollbackRelease</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:rollbackTo">rollbackTo</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:withSavepoint">withSavepoint</a> :: (<a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; (m () -&gt; m r) -&gt; m r</li><li class="src short"><a href="#v:withSavepoint_">withSavepoint_</a> :: (<a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m r -&gt; m r</li><li class="src short"><a href="#v:vacuumInto">vacuumInto</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m ()</li><li class="src short"><a href="#v:setJournalMode">setJournalMode</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-JournalMode.html#t:JournalMode" title="U.Codebase.Sqlite.JournalMode">JournalMode</a> -&gt; m ()</li><li class="src short"><a href="#v:traceConnectionFile">traceConnectionFile</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Constraint kinds</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DB" class="def">DB</a> m = (<a href="../base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../adjunctions-4.4/Control-Monad-Representable-Reader.html#t:MonadReader" title="Control.Monad.Representable.Reader">MonadReader</a> <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> m) <a href="src/U.Codebase.Sqlite.Queries.html#DB" class="link">Source</a> <a href="#t:DB" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EDB" class="def">EDB</a> m = (<a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:Err" title="U.Codebase.Sqlite.Queries">Err</a> m) <a href="src/U.Codebase.Sqlite.Queries.html#EDB" class="link">Source</a> <a href="#t:EDB" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Err" class="def">Err</a> m = (<a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> m, <a href="../base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) <a href="src/U.Codebase.Sqlite.Queries.html#Err" class="link">Source</a> <a href="#t:Err" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Error types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Integrity" class="def">Integrity</a> <a href="src/U.Codebase.Sqlite.Queries.html#Integrity" class="link">Source</a> <a href="#t:Integrity" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnknownHashId" class="def">UnknownHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownTextId" class="def">UnknownTextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownObjectId" class="def">UnknownObjectId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownCausalHashId" class="def">UnknownCausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownHash" class="def">UnknownHash</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoObjectForHashId" class="def">NoObjectForHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoObjectForPrimaryHashId" class="def">NoObjectForPrimaryHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoNamespaceRoot" class="def">NoNamespaceRoot</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MultipleNamespaceRoots" class="def">MultipleNamespaceRoots</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoSchemaVersion" class="def">NoSchemaVersion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MultipleSchemaVersions" class="def">MultipleSchemaVersions</a> [<a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoTypeIndexForTerm" class="def">NoTypeIndexForTerm</a> <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Integrity">Instances</h4><details id="i:Integrity" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Integrity:Show:1"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-243" class="link">Source</a> <a href="#t:Integrity" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Integrity:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Queries.html">U.Codebase.Sqlite.Queries</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>text table</h1></a><div class="top"><p class="src"><a id="v:saveText" class="def">saveText</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveText" class="link">Source</a> <a href="#v:saveText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadText" class="def">loadText</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadText" class="link">Source</a> <a href="#v:loadText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTextById" class="def">loadTextById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadTextById" class="link">Source</a> <a href="#v:loadTextById" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>hash table</h1></a><div class="top"><p class="src"><a id="v:saveHash" class="def">saveHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveHash" class="link">Source</a> <a href="#v:saveHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveHashHash" class="def">saveHashHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveHashHash" class="link">Source</a> <a href="#v:saveHashHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashId" class="def">loadHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadHashId" class="link">Source</a> <a href="#v:loadHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashById" class="def">loadHashById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadHashById" class="link">Source</a> <a href="#v:loadHashById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashHashById" class="def">loadHashHashById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadHashHashById" class="link">Source</a> <a href="#v:loadHashHashById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashIdByHash" class="def">loadHashIdByHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadHashIdByHash" class="link">Source</a> <a href="#v:loadHashIdByHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectHashIdByHash" class="def">expectHashIdByHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectHashIdByHash" class="link">Source</a> <a href="#v:expectHashIdByHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveCausalHash" class="def">saveCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveCausalHash" class="link">Source</a> <a href="#v:saveCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalHash" class="def">loadCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalHash" class="link">Source</a> <a href="#v:loadCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranchHash" class="def">saveBranchHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveBranchHash" class="link">Source</a> <a href="#v:saveBranchHash" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>hash_object table</h1></a><div class="top"><p class="src"><a id="v:saveHashObject" class="def">saveHashObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#saveHashObject" class="link">Source</a> <a href="#v:saveHashObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hashIdsForObject" class="def">hashIdsForObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#hashIdsForObject" class="link">Source</a> <a href="#v:hashIdsForObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hashIdWithVersionForObject" class="def">hashIdWithVersionForObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#hashIdWithVersionForObject" class="link">Source</a> <a href="#v:hashIdWithVersionForObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectObjectIdForPrimaryHashId" class="def">expectObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectIdForPrimaryHashId" class="link">Source</a> <a href="#v:expectObjectIdForPrimaryHashId" class="selflink">#</a></p><div class="doc"><p>Not all hashes have corresponding objects; e.g., hashes of term types</p></div></div><div class="top"><p class="src"><a id="v:expectObjectIdForAnyHashId" class="def">expectObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectIdForAnyHashId" class="link">Source</a> <a href="#v:expectObjectIdForAnyHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:maybeObjectIdForPrimaryHashId" class="def">maybeObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#maybeObjectIdForPrimaryHashId" class="link">Source</a> <a href="#v:maybeObjectIdForPrimaryHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:maybeObjectIdForAnyHashId" class="def">maybeObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#maybeObjectIdForAnyHashId" class="link">Source</a> <a href="#v:maybeObjectIdForAnyHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recordObjectRehash" class="def">recordObjectRehash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#recordObjectRehash" class="link">Source</a> <a href="#v:recordObjectRehash" class="selflink">#</a></p><div class="doc"><p><code>recordObjectRehash old new</code> records that object <code>old</code> was rehashed and inserted as a new object, <code>new</code>.</p><p>This function rewrites <code>old</code>'s <code>hash_object</code> rows in place to point at the new object.</p></div></div><a href="#g:6" id="g:6"><h1>object table</h1></a><div class="top"><p class="src"><a id="v:saveObject" class="def">saveObject</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveObject" class="link">Source</a> <a href="#v:saveObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadObjectById" class="def">loadObjectById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectById" class="link">Source</a> <a href="#v:loadObjectById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadPrimaryHashByObjectId" class="def">loadPrimaryHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadPrimaryHashByObjectId" class="link">Source</a> <a href="#v:loadPrimaryHashByObjectId" class="selflink">#</a></p><div class="doc"><p>All objects have corresponding hashes.</p></div></div><div class="top"><p class="src"><a id="v:loadObjectWithTypeById" class="def">loadObjectWithTypeById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectWithTypeById" class="link">Source</a> <a href="#v:loadObjectWithTypeById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadObjectWithHashIdAndTypeById" class="def">loadObjectWithHashIdAndTypeById</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectWithHashIdAndTypeById" class="link">Source</a> <a href="#v:loadObjectWithHashIdAndTypeById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateObjectBlob" class="def">updateObjectBlob</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#updateObjectBlob" class="link">Source</a> <a href="#v:updateObjectBlob" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>namespace_root table</h1></a><div class="top"><p class="src"><a id="v:loadMaybeNamespaceRoot" class="def">loadMaybeNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadMaybeNamespaceRoot" class="link">Source</a> <a href="#v:loadMaybeNamespaceRoot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setNamespaceRoot" class="def">setNamespaceRoot</a> :: <span class="keyword">forall</span> m. <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#setNamespaceRoot" class="link">Source</a> <a href="#v:setNamespaceRoot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadNamespaceRoot" class="def">loadNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadNamespaceRoot" class="link">Source</a> <a href="#v:loadNamespaceRoot" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>causals</h1></a><a href="#g:9" id="g:9"><h2>causal table</h2></a><div class="top"><p class="src"><a id="v:saveCausal" class="def">saveCausal</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#saveCausal" class="link">Source</a> <a href="#v:saveCausal" class="selflink">#</a></p><div class="doc"><p>Maybe we would generalize this to something other than NamespaceHash if we
 end up wanting to store other kinds of Causals here too.</p></div></div><div class="top"><p class="src"><a id="v:isCausalHash" class="def">isCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#isCausalHash" class="link">Source</a> <a href="#v:isCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalHashIdByCausalHash" class="def">loadCausalHashIdByCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalHashIdByCausalHash" class="link">Source</a> <a href="#v:loadCausalHashIdByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalValueHashId" class="def">loadCausalValueHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalValueHashId" class="link">Source</a> <a href="#v:loadCausalValueHashId" class="selflink">#</a></p><div class="doc"><p>]</p></div></div><div class="top"><p class="src"><a id="v:loadCausalByCausalHash" class="def">loadCausalByCausalHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>)) <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalByCausalHash" class="link">Source</a> <a href="#v:loadCausalByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadBranchObjectIdByCausalHashId" class="def">loadBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadBranchObjectIdByCausalHashId" class="link">Source</a> <a href="#v:loadBranchObjectIdByCausalHashId" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h2>causal_parent table</h2></a><div class="top"><p class="src"><a id="v:saveCausalParents" class="def">saveCausalParents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#saveCausalParents" class="link">Source</a> <a href="#v:saveCausalParents" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalParents" class="def">loadCausalParents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalParents" class="link">Source</a> <a href="#v:loadCausalParents" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:before" class="def">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#before" class="link">Source</a> <a href="#v:before" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lca" class="def">lca</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#lca" class="link">Source</a> <a href="#v:lca" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h1>watch table</h1></a><div class="top"><p class="src"><a id="v:saveWatch" class="def">saveWatch</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#saveWatch" class="link">Source</a> <a href="#v:saveWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatch" class="def">loadWatch</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadWatch" class="link">Source</a> <a href="#v:loadWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatchesByWatchKind" class="def">loadWatchesByWatchKind</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadWatchesByWatchKind" class="link">Source</a> <a href="#v:loadWatchesByWatchKind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatchKindsByReference" class="def">loadWatchKindsByReference</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadWatchKindsByReference" class="link">Source</a> <a href="#v:loadWatchKindsByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearWatches" class="def">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#clearWatches" class="link">Source</a> <a href="#v:clearWatches" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h1>indexes</h1></a><a href="#g:13" id="g:13"><h2>dependents index</h2></a><div class="top"><p class="src"><a id="v:addToDependentsIndex" class="def">addToDependentsIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#addToDependentsIndex" class="link">Source</a> <a href="#v:addToDependentsIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDependentsForDependency" class="def">getDependentsForDependency</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependentsForDependency" class="link">Source</a> <a href="#v:getDependentsForDependency" class="selflink">#</a></p><div class="doc"><p>Get non-self, user-defined dependents of a dependency.</p></div></div><div class="top"><p class="src"><a id="v:getDependentsForDependencyComponent" class="def">getDependentsForDependencyComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependentsForDependencyComponent" class="link">Source</a> <a href="#v:getDependentsForDependencyComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDependenciesForDependent" class="def">getDependenciesForDependent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependenciesForDependent" class="link">Source</a> <a href="#v:getDependenciesForDependent" class="selflink">#</a></p><div class="doc"><p>Get non-self dependencies of a user-defined dependent.</p></div></div><div class="top"><p class="src"><a id="v:getDependencyIdsForDependent" class="def">getDependencyIdsForDependent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependencyIdsForDependent" class="link">Source</a> <a href="#v:getDependencyIdsForDependent" class="selflink">#</a></p><div class="doc"><p>Get non-self, user-defined dependencies of a user-defined dependent.</p></div></div><a href="#g:14" id="g:14"><h2>type index</h2></a><div class="top"><p class="src"><a id="v:addToTypeIndex" class="def">addToTypeIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#addToTypeIndex" class="link">Source</a> <a href="#v:addToTypeIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getReferentsByType" class="def">getReferentsByType</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getReferentsByType" class="link">Source</a> <a href="#v:getReferentsByType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeReferenceForReferent" class="def">getTypeReferenceForReferent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#getTypeReferenceForReferent" class="link">Source</a> <a href="#v:getTypeReferenceForReferent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeReferencesForComponent" class="def">getTypeReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#getTypeReferencesForComponent" class="link">Source</a> <a href="#v:getTypeReferencesForComponent" class="selflink">#</a></p></div><a href="#g:15" id="g:15"><h2>type mentions index</h2></a><div class="top"><p class="src"><a id="v:addToTypeMentionsIndex" class="def">addToTypeMentionsIndex</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#addToTypeMentionsIndex" class="link">Source</a> <a href="#v:addToTypeMentionsIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getReferentsByTypeMention" class="def">getReferentsByTypeMention</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getReferentsByTypeMention" class="link">Source</a> <a href="#v:getReferentsByTypeMention" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeMentionsReferencesForComponent" class="def">getTypeMentionsReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:EDB" title="U.Codebase.Sqlite.Queries">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#getTypeMentionsReferencesForComponent" class="link">Source</a> <a href="#v:getTypeMentionsReferencesForComponent" class="selflink">#</a></p></div><a href="#g:16" id="g:16"><h1>hash prefix lookup</h1></a><div class="top"><p class="src"><a id="v:objectIdByBase32Prefix" class="def">objectIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#objectIdByBase32Prefix" class="link">Source</a> <a href="#v:objectIdByBase32Prefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:namespaceHashIdByBase32Prefix" class="def">namespaceHashIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#namespaceHashIdByBase32Prefix" class="link">Source</a> <a href="#v:namespaceHashIdByBase32Prefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:causalHashIdByBase32Prefix" class="def">causalHashIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#causalHashIdByBase32Prefix" class="link">Source</a> <a href="#v:causalHashIdByBase32Prefix" class="selflink">#</a></p></div><a href="#g:17" id="g:17"><h1>garbage collection</h1></a><div class="top"><p class="src"><a id="v:vacuum" class="def">vacuum</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#vacuum" class="link">Source</a> <a href="#v:vacuum" class="selflink">#</a></p><div class="doc"><p>Clean the database and recover disk space.
 This is an expensive operation. Also note that it cannot be executed within a transaction.</p></div></div><div class="top"><p class="src"><a id="v:garbageCollectObjectsWithoutHashes" class="def">garbageCollectObjectsWithoutHashes</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#garbageCollectObjectsWithoutHashes" class="link">Source</a> <a href="#v:garbageCollectObjectsWithoutHashes" class="selflink">#</a></p><div class="doc"><p>Delete objects without hashes. An object typically *would* have a hash, but (for example) during a migration in which an object's hash
 may change, its corresponding hash_object row may be updated to point at a new version of that object. This procedure clears out all
 references to objects that do not have any corresponding hash_object rows.</p></div></div><div class="top"><p class="src"><a id="v:garbageCollectWatchesWithoutObjects" class="def">garbageCollectWatchesWithoutObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#garbageCollectWatchesWithoutObjects" class="link">Source</a> <a href="#v:garbageCollectWatchesWithoutObjects" class="selflink">#</a></p><div class="doc"><p>Delete all</p></div></div><div class="top"><p class="src"><a id="v:countObjects" class="def">countObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countObjects" class="link">Source</a> <a href="#v:countObjects" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:countCausals" class="def">countCausals</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countCausals" class="link">Source</a> <a href="#v:countCausals" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:countWatches" class="def">countWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countWatches" class="link">Source</a> <a href="#v:countWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCausalsWithoutBranchObjects" class="def">getCausalsWithoutBranchObjects</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getCausalsWithoutBranchObjects" class="link">Source</a> <a href="#v:getCausalsWithoutBranchObjects" class="selflink">#</a></p><div class="doc"><p>Finds all causals that refer to a branch for which we don't have an object stored.
 Although there are plans to support this in the future, currently all such cases
 are the result of database inconsistencies and are unexpected.</p></div></div><a href="#g:18" id="g:18"><h1>db misc</h1></a><div class="top"><p class="src"><a id="v:createSchema" class="def">createSchema</a> :: (<a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m, <a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m) =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#createSchema" class="link">Source</a> <a href="#v:createSchema" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:schemaVersion" class="def">schemaVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> <a href="src/U.Codebase.Sqlite.Queries.html#schemaVersion" class="link">Source</a> <a href="#v:schemaVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setSchemaVersion" class="def">setSchemaVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#setSchemaVersion" class="link">Source</a> <a href="#v:setSchemaVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setFlags" class="def">setFlags</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#setFlags" class="link">Source</a> <a href="#v:setFlags" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DataVersion" class="def">DataVersion</a> <a href="src/U.Codebase.Sqlite.Queries.html#DataVersion" class="link">Source</a> <a href="#t:DataVersion" class="selflink">#</a></p><div class="doc"><p>The data version will increase if there has been any external
 modification to the database since the last observed data version.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DataVersion">Instances</h4><details id="i:DataVersion" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DataVersion:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-530" class="link">Source</a> <a href="#t:DataVersion" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DataVersion:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Queries.html">U.Codebase.Sqlite.Queries</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DataVersion:Ord:2"></span> <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-530" class="link">Source</a> <a href="#t:DataVersion" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DataVersion:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Queries.html">U.Codebase.Sqlite.Queries</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DataVersion:Show:3"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-530" class="link">Source</a> <a href="#t:DataVersion" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DataVersion:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Queries.html">U.Codebase.Sqlite.Queries</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DataVersion:FromField:4"></span> <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FromField" title="Database.SQLite.Simple.FromField">FromField</a> <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-531" class="link">Source</a> <a href="#t:DataVersion" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DataVersion:FromField:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Queries.html">U.Codebase.Sqlite.Queries</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromField">fromField</a> :: <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FieldParser" title="Database.SQLite.Simple.FromField">FieldParser</a> <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="#v:fromField" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:dataVersion" class="def">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="src/U.Codebase.Sqlite.Queries.html#dataVersion" class="link">Source</a> <a href="#v:dataVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:savepoint" class="def">savepoint</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#savepoint" class="link">Source</a> <a href="#v:savepoint" class="selflink">#</a></p><div class="doc"><p>low-level transaction stuff</p><p>Create a savepoint, which is a named transaction which may wrap many nested
 sub-transactions.</p></div></div><div class="top"><p class="src"><a id="v:release" class="def">release</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#release" class="link">Source</a> <a href="#v:release" class="selflink">#</a></p><div class="doc"><p>Release a savepoint, which will commit the results once all
 wrapping transactions/savepoints are commited.</p></div></div><div class="top"><p class="src"><a id="v:rollbackRelease" class="def">rollbackRelease</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#rollbackRelease" class="link">Source</a> <a href="#v:rollbackRelease" class="selflink">#</a></p><div class="doc"><p>Roll back the savepoint and immediately release it.
 This effectively _aborts_ the savepoint, useful if an irrecoverable error is
 encountered.</p></div></div><div class="top"><p class="src"><a id="v:rollbackTo" class="def">rollbackTo</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#rollbackTo" class="link">Source</a> <a href="#v:rollbackTo" class="selflink">#</a></p><div class="doc"><p>Roll the database back to its state from when the savepoint was created.
 Note: this also re-starts the savepoint and it must still be released if that is the
 intention. See <code><a href="U-Codebase-Sqlite-Queries.html#v:rollbackRelease" title="U.Codebase.Sqlite.Queries">rollbackRelease</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withSavepoint" class="def">withSavepoint</a> :: (<a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; (m () -&gt; m r) -&gt; m r <a href="src/U.Codebase.Sqlite.Queries.html#withSavepoint" class="link">Source</a> <a href="#v:withSavepoint" class="selflink">#</a></p><div class="doc"><p>Runs the provided action within a savepoint.
 Releases the savepoint on completion.
 If an exception occurs, the savepoint will be rolled-back and released,
 abandoning all changes.</p></div></div><div class="top"><p class="src"><a id="v:withSavepoint_" class="def">withSavepoint_</a> :: (<a href="../unliftio-core-0.2.0.1/Control-Monad-IO-Unlift.html#t:MonadUnliftIO" title="Control.Monad.IO.Unlift">MonadUnliftIO</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) =&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; m r -&gt; m r <a href="src/U.Codebase.Sqlite.Queries.html#withSavepoint_" class="link">Source</a> <a href="#v:withSavepoint_" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:vacuumInto" class="def">vacuumInto</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#vacuumInto" class="link">Source</a> <a href="#v:vacuumInto" class="selflink">#</a></p><div class="doc"><p>Copy the database into the specified location, performing a VACUUM in the process.</p></div></div><div class="top"><p class="src"><a id="v:setJournalMode" class="def">setJournalMode</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="U-Codebase-Sqlite-JournalMode.html#t:JournalMode" title="U.Codebase.Sqlite.JournalMode">JournalMode</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#setJournalMode" class="link">Source</a> <a href="#v:setJournalMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:traceConnectionFile" class="def">traceConnectionFile</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Queries.html#traceConnectionFile" class="link">Source</a> <a href="#v:traceConnectionFile" class="selflink">#</a></p><div class="doc"><p>print the active database filename</p></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:FromField:FromField:1"></span> <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FromField" title="Database.SQLite.Simple.FromField">FromField</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-1086" class="link">Source</a> <a href="#v:-36-fFromFieldWatchKind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:FromField:FromField:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromField">fromField</a> :: <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FieldParser" title="Database.SQLite.Simple.FromField">FieldParser</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> <a href="#v:fromField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:FromField:FromField:2"></span> <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FromField" title="Database.SQLite.Simple.FromField">FromField</a> <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-1079" class="link">Source</a> <a href="#v:-36-fFromFieldBase32Hex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:FromField:FromField:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromField">fromField</a> :: <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-FromField.html#t:FieldParser" title="Database.SQLite.Simple.FromField">FieldParser</a> <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> <a href="#v:fromField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:ToField:ToField:3"></span> <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-ToField.html#t:ToField" title="Database.SQLite.Simple.ToField">ToField</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-1081" class="link">Source</a> <a href="#v:-36-fToFieldWatchKind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:ToField:ToField:3"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toField">toField</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../direct-sqlite-2.3.26/Database-SQLite3.html#t:SQLData" title="Database.SQLite3">SQLData</a> <a href="#v:toField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:ToField:ToField:4"></span> <a href="../sqlite-simple-0.4.18.0/Database-SQLite-Simple-ToField.html#t:ToField" title="Database.SQLite.Simple.ToField">ToField</a> <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a></span> <a href="src/U.Codebase.Sqlite.Queries.html#line-1077" class="link">Source</a> <a href="#v:-36-fToFieldBase32Hex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:ToField:ToField:4"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toField">toField</a> :: <a href="../unison-util-0.0.0/U-Util-Base32Hex.html#t:Base32Hex" title="U.Util.Base32Hex">Base32Hex</a> -&gt; <a href="../direct-sqlite-2.3.26/Database-SQLite3.html#t:SQLData" title="Database.SQLite3">SQLData</a> <a href="#v:toField" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>