<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>U.Codebase.Sqlite.Operations</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-codebase-sqlite-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/U.Codebase.Sqlite.Operations.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">U.Codebase.Sqlite.Operations</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Error handling</a></li><li><a href="#g:2">Database lookups</a></li><li><a href="#g:3">Reference transformations</a><ul><li><a href="#g:4">read existing references</a></li><li><a href="#g:5">Edits transformations</a></li></ul></li><li><a href="#g:6">Deserialization helpers</a></li><li><a href="#g:7">legacy conversion helpers</a></li><li><a href="#g:8">Codebase operations</a><ul><li><a href="#g:9">Saving &amp; loading terms</a><ul><li><a href="#g:10">Watch expressions</a></li></ul></li><li><a href="#g:11">Saving &amp; loading type decls</a></li></ul></li><li><a href="#g:12">Branch transformation</a></li><li><a href="#g:13">Patch transformation</a></li><li><a href="#g:14">Searches</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:throwError">throwError</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; m a</li><li class="src short"><a href="#v:debug">debug</a> :: <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:crashOnError">crashOnError</a> :: <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Err">Err</a> m = (<a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> m, <a href="../base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:EDB">EDB</a> m = (<a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ErrString">ErrString</a> = <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:DecodeError">DecodeError</a><ul class="subs"><li>= <a href="#v:ErrTermElement">ErrTermElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li>| <a href="#v:ErrDeclElement">ErrDeclElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li>| <a href="#v:ErrFramedArrayLen">ErrFramedArrayLen</a></li><li>| <a href="#v:ErrTypeOfTerm">ErrTypeOfTerm</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li>| <a href="#v:ErrWatch">ErrWatch</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li>| <a href="#v:ErrBranch">ErrBranch</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></li><li>| <a href="#v:ErrPatch">ErrPatch</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li>| <a href="#v:ErrObjectDependencies">ErrObjectDependencies</a> <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Error">Error</a><ul class="subs"><li>= <a href="#v:DecodeError">DecodeError</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="U-Codebase-Sqlite-Operations.html#t:ErrString" title="U.Codebase.Sqlite.Operations">ErrString</a></li><li>| <a href="#v:DatabaseIntegrityError">DatabaseIntegrityError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a></li><li>| <a href="#v:UnknownDependency">UnknownDependency</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li>| <a href="#v:UnknownText">UnknownText</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li>| <a href="#v:ExpectedBranch">ExpectedBranch</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></li><li>| <a href="#v:ExpectedBranch-39-">ExpectedBranch'</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li>| <a href="#v:LegacyUnknownCycleLen">LegacyUnknownCycleLen</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li>| <a href="#v:LegacyUnknownConstructorType">LegacyUnknownConstructorType</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a></li><li>| <a href="#v:NeedTypeForBuiltinMetadata">NeedTypeForBuiltinMetadata</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li></ul></li><li class="src short"><a href="#v:getFromBytesOr">getFromBytesOr</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../unison-util-serialization-0.0.0/U-Util-Serialization.html#t:Get" title="U.Util.Serialization">Get</a> a -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a</li><li class="src short"><a href="#v:liftQ">liftQ</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> m a -&gt; m a</li><li class="src short"><a href="#v:lookupTextId">lookupTextId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></li><li class="src short"><a href="#v:loadTextById">loadTextById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:primaryHashToExistingObjectId">primaryHashToExistingObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:primaryHashToMaybeObjectId">primaryHashToMaybeObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:primaryHashToMaybePatchObjectId">primaryHashToMaybePatchObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>)</li><li class="src short"><a href="#v:objectExistsForHash">objectExistsForHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:loadHashByObjectId">loadHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:loadHashByHashId">loadHashByHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:loadCausalHashById">loadCausalHashById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:loadValueHashByCausalHashId">loadValueHashByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></li><li class="src short"><a href="#v:loadRootCausalHash">loadRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:loadMaybeRootCausalHash">loadMaybeRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:c2sReference">c2sReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a></li><li class="src short"><a href="#v:s2cReference">s2cReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a></li><li class="src short"><a href="#v:c2sReferenceId">c2sReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a></li><li class="src short"><a href="#v:s2cReferenceId">s2cReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li class="src short"><a href="#v:h2cReferenceId">h2cReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></li><li class="src short"><a href="#v:h2cReference">h2cReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a></li><li class="src short"><a href="#v:c2hReference">c2hReference</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a></li><li class="src short"><a href="#v:s2cReferent">s2cReferent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Referent" title="U.Codebase.Sqlite.Referent">Referent</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a></li><li class="src short"><a href="#v:s2cReferentId">s2cReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a></li><li class="src short"><a href="#v:c2sReferentId">c2sReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a></li><li class="src short"><a href="#v:h2cReferent">h2cReferent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:ReferentH" title="U.Codebase.Sqlite.Referent">ReferentH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a></li><li class="src short"><a href="#v:s2cTermEdit">s2cTermEdit</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:TermEdit" title="U.Codebase.Sqlite.Patch.TermEdit">TermEdit</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:TermEdit" title="U.Codebase.TermEdit">TermEdit</a></li><li class="src short"><a href="#v:s2cTyping">s2cTyping</a> :: <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:Typing" title="U.Codebase.Sqlite.Patch.TermEdit">Typing</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:Typing" title="U.Codebase.TermEdit">Typing</a></li><li class="src short"><a href="#v:c2sTyping">c2sTyping</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:Typing" title="U.Codebase.TermEdit">Typing</a> -&gt; <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:Typing" title="U.Codebase.Sqlite.Patch.TermEdit">Typing</a></li><li class="src short"><a href="#v:s2cTypeEdit">s2cTypeEdit</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-TypeEdit.html#t:TypeEdit" title="U.Codebase.Sqlite.Patch.TypeEdit">TypeEdit</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-TypeEdit.html#t:TypeEdit" title="U.Codebase.TypeEdit">TypeEdit</a></li><li class="src short"><a href="#v:c2lPatch">c2lPatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m (<a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchLocalIds" title="U.Codebase.Sqlite.Patch.Format">PatchLocalIds</a>, <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a>)</li><li class="src short"><a href="#v:diffPatch">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a></li><li class="src short"><a href="#v:decodeComponentLengthOnly">decodeComponentLengthOnly</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><a href="#v:decodeTermElementWithType">decodeTermElementWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:decodeTermElementDiscardingTerm">decodeTermElementDiscardingTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:decodeTermElementDiscardingType">decodeTermElementDiscardingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>)</li><li class="src short"><a href="#v:decodeDeclElement">decodeDeclElement</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:getCycleLen">getCycleLen</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><a href="#v:getDeclTypeByReference">getDeclTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a></li><li class="src short"><a href="#v:componentByObjectId">componentByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:saveTermComponent">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:saveReferenceH">saveReferenceH</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:c2xTerm">c2xTerm</a> :: <span class="keyword">forall</span> m t d. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:loadTermWithTypeByReference">loadTermWithTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:loadTermByReference">loadTermByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:loadTypeOfTermByTermReference">loadTypeOfTermByTermReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTermWithType">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTerm">s2cTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTypeOfTerm">s2cTypeOfTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:localIdsToLookups">localIdsToLookups</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (t -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (d -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>)</li><li class="src short"><a href="#v:x2cTerm">x2cTerm</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a></li><li class="src short"><a href="#v:x2cTType">x2cTType</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a></li><li class="src short"><a href="#v:lookupText">lookupText</a> :: <span class="keyword">forall</span> m s w t. (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field1-39-" title="U.Util.Lens">Field1'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> t <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a>), <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field1-39-" title="U.Util.Lens">Field1'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> t), <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> t) =&gt; t -&gt; m <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a></li><li class="src short"><a href="#v:lookupDefn">lookupDefn</a> :: <span class="keyword">forall</span> m s w d. (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field2-39-" title="U.Util.Lens">Field2'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> d <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a>), <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field2-39-" title="U.Util.Lens">Field2'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> d), <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> d) =&gt; d -&gt; m <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a></li><li class="src short"><a href="#v:lookup_">lookup_</a> :: (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> t) =&gt; <a href="../lens-4.19.2/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> t t') -&gt; <a href="../lens-4.19.2/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> t) -&gt; (<a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; t') -&gt; t -&gt; m t'</li><li class="src short"><a href="#v:c2sTerm">c2sTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:listWatches">listWatches</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:loadWatch">loadWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:saveWatch">saveWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m ()</li><li class="src short"><a href="#v:clearWatches">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m ()</li><li class="src short"><a href="#v:c2wTerm">c2wTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:WatchLocalIds" title="U.Codebase.Sqlite.LocalIds">WatchLocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>)</li><li class="src short"><a href="#v:w2cTerm">w2cTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:WatchLocalIds" title="U.Codebase.Sqlite.LocalIds">WatchLocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:saveDeclComponent">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:c2sDecl">c2sDecl</a> :: <span class="keyword">forall</span> m t d. <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:loadDeclByReference">loadDeclByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cBranch">s2cBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:BranchSavingState">BranchSavingState</a> = (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalPatchObjectId" title="U.Codebase.Sqlite.LocalIds">LocalPatchObjectId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalBranchChildId" title="U.Codebase.Sqlite.LocalIds">LocalBranchChildId</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:BranchSavingWriter">BranchSavingWriter</a> = (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>))</li><li class="src short"><span class="keyword">type</span> <a href="#t:BranchSavingConstraint">BranchSavingConstraint</a> m = (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingState" title="U.Codebase.Sqlite.Operations">BranchSavingState</a> m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingWriter" title="U.Codebase.Sqlite.Operations">BranchSavingWriter</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:BranchSavingMonad">BranchSavingMonad</a> m = <a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingState" title="U.Codebase.Sqlite.Operations">BranchSavingState</a> (<a href="../mtl-2.2.2/Control-Monad-Writer-Lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingWriter" title="U.Codebase.Sqlite.Operations">BranchSavingWriter</a> m)</li><li class="src short"><a href="#v:saveRootBranch">saveRootBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:saveBranch">saveBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:loadRootCausal">loadRootCausal</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m)</li><li class="src short"><a href="#v:dataVersion">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a></li><li class="src short"><a href="#v:loadCausalBranchByCausalHash">loadCausalBranchByCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m))</li><li class="src short"><a href="#v:loadCausalByCausalHashId">loadCausalByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m)</li><li class="src short"><a href="#v:loadBranchByCausalHashId">loadBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m))</li><li class="src short"><a href="#v:loadBranchByObjectId">loadBranchByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m)</li><li class="src short"><a href="#v:loadPatchById">loadPatchById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a></li><li class="src short"><a href="#v:savePatch">savePatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li class="src short"><a href="#v:s2cPatch">s2cPatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:Patch" title="U.Codebase.Sqlite.Patch.Full">Patch</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a></li><li class="src short"><a href="#v:deserializePatchObject">deserializePatchObject</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchFormat" title="U.Codebase.Sqlite.Patch.Format">PatchFormat</a></li><li class="src short"><a href="#v:lca">lca</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:before">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:termsHavingType">termsHavingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:typeReferenceForTerm">typeReferenceForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a></li><li class="src short"><a href="#v:termsMentioningType">termsMentioningType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:addTypeToIndexForTerm">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m ()</li><li class="src short"><a href="#v:addTypeMentionsToIndexForTerm">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m ()</li><li class="src short"><a href="#v:componentReferencesByPrefix">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:termReferencesByPrefix">termReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:declReferencesByPrefix">declReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:termReferentsByPrefix">termReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>]</li><li class="src short"><a href="#v:declReferentsByPrefix">declReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; m [(<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])]</li><li class="src short"><a href="#v:branchHashesByPrefix">branchHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>)</li><li class="src short"><a href="#v:causalHashesByPrefix">causalHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:dependents">dependents</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li><li class="src short"><a href="#v:derivedDependencies">derivedDependencies</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Error handling</h1></a><div class="top"><p class="src"><a id="v:throwError" class="def">throwError</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; m a <a href="src/U.Codebase.Sqlite.Operations.html#throwError" class="link">Source</a> <a href="#v:throwError" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:debug" class="def">debug</a> :: <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#debug" class="link">Source</a> <a href="#v:debug" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:crashOnError" class="def">crashOnError</a> :: <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#crashOnError" class="link">Source</a> <a href="#v:crashOnError" class="selflink">#</a></p><div class="doc"><p>crashOnError can be helpful for debugging.
 If it is False, the errors will be delivered to the user elsewhere.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Err" class="def">Err</a> m = (<a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> m, <a href="../base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) <a href="src/U.Codebase.Sqlite.Operations.html#Err" class="link">Source</a> <a href="#t:Err" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EDB" class="def">EDB</a> m = (<a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m, <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#EDB" class="link">Source</a> <a href="#t:EDB" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ErrString" class="def">ErrString</a> = <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/U.Codebase.Sqlite.Operations.html#ErrString" class="link">Source</a> <a href="#t:ErrString" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DecodeError" class="def">DecodeError</a> <a href="src/U.Codebase.Sqlite.Operations.html#DecodeError" class="link">Source</a> <a href="#t:DecodeError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ErrTermElement" class="def">ErrTermElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrDeclElement" class="def">ErrDeclElement</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrFramedArrayLen" class="def">ErrFramedArrayLen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrTypeOfTerm" class="def">ErrTypeOfTerm</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrWatch" class="def">ErrWatch</a> <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrBranch" class="def">ErrBranch</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrPatch" class="def">ErrPatch</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrObjectDependencies" class="def">ErrObjectDependencies</a> <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DecodeError">Instances</h4><details id="i:DecodeError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DecodeError:Show:1"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-153" class="link">Source</a> <a href="#t:DecodeError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DecodeError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Error" class="def">Error</a> <a href="src/U.Codebase.Sqlite.Operations.html#Error" class="link">Source</a> <a href="#t:Error" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DecodeError" class="def">DecodeError</a> <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="U-Codebase-Sqlite-Operations.html#t:ErrString" title="U.Codebase.Sqlite.Operations">ErrString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DatabaseIntegrityError" class="def">DatabaseIntegrityError</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownDependency" class="def">UnknownDependency</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownText" class="def">UnknownText</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExpectedBranch" class="def">ExpectedBranch</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExpectedBranch-39-" class="def">ExpectedBranch'</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LegacyUnknownCycleLen" class="def">LegacyUnknownCycleLen</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LegacyUnknownConstructorType" class="def">LegacyUnknownConstructorType</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NeedTypeForBuiltinMetadata" class="def">NeedTypeForBuiltinMetadata</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Error">Instances</h4><details id="i:Error" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Error:Show:1"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-165" class="link">Source</a> <a href="#t:Error" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Error:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Operations.html#t:Error" title="U.Codebase.Sqlite.Operations">Error</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getFromBytesOr" class="def">getFromBytesOr</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DecodeError" title="U.Codebase.Sqlite.Operations">DecodeError</a> -&gt; <a href="../unison-util-serialization-0.0.0/U-Util-Serialization.html#t:Get" title="U.Util.Serialization">Get</a> a -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a <a href="src/U.Codebase.Sqlite.Operations.html#getFromBytesOr" class="link">Source</a> <a href="#v:getFromBytesOr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:liftQ" class="def">liftQ</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="U-Codebase-Sqlite-Queries.html#t:Integrity" title="U.Codebase.Sqlite.Queries">Integrity</a> m a -&gt; m a <a href="src/U.Codebase.Sqlite.Operations.html#liftQ" class="link">Source</a> <a href="#v:liftQ" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Database lookups</h1></a><div class="top"><p class="src"><a id="v:lookupTextId" class="def">lookupTextId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="src/U.Codebase.Sqlite.Operations.html#lookupTextId" class="link">Source</a> <a href="#v:lookupTextId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTextById" class="def">loadTextById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadTextById" class="link">Source</a> <a href="#v:loadTextById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:primaryHashToExistingObjectId" class="def">primaryHashToExistingObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#primaryHashToExistingObjectId" class="link">Source</a> <a href="#v:primaryHashToExistingObjectId" class="selflink">#</a></p><div class="doc"><p>look up an existing object by its primary hash</p></div></div><div class="top"><p class="src"><a id="v:primaryHashToMaybeObjectId" class="def">primaryHashToMaybeObjectId</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#primaryHashToMaybeObjectId" class="link">Source</a> <a href="#v:primaryHashToMaybeObjectId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:primaryHashToMaybePatchObjectId" class="def">primaryHashToMaybePatchObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#primaryHashToMaybePatchObjectId" class="link">Source</a> <a href="#v:primaryHashToMaybePatchObjectId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:objectExistsForHash" class="def">objectExistsForHash</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#objectExistsForHash" class="link">Source</a> <a href="#v:objectExistsForHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashByObjectId" class="def">loadHashByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadHashByObjectId" class="link">Source</a> <a href="#v:loadHashByObjectId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashByHashId" class="def">loadHashByHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadHashByHashId" class="link">Source</a> <a href="#v:loadHashByHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalHashById" class="def">loadCausalHashById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalHashById" class="link">Source</a> <a href="#v:loadCausalHashById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadValueHashByCausalHashId" class="def">loadValueHashByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadValueHashByCausalHashId" class="link">Source</a> <a href="#v:loadValueHashByCausalHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadRootCausalHash" class="def">loadRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadRootCausalHash" class="link">Source</a> <a href="#v:loadRootCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadMaybeRootCausalHash" class="def">loadMaybeRootCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadMaybeRootCausalHash" class="link">Source</a> <a href="#v:loadMaybeRootCausalHash" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Reference transformations</h1></a><a href="#g:4" id="g:4"><h2>read existing references</h2></a><div class="top"><p class="src"><a id="v:c2sReference" class="def">c2sReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReference" class="link">Source</a> <a href="#v:c2sReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cReference" class="def">s2cReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cReference" class="link">Source</a> <a href="#v:s2cReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sReferenceId" class="def">c2sReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferenceId" class="link">Source</a> <a href="#v:c2sReferenceId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cReferenceId" class="def">s2cReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cReferenceId" class="link">Source</a> <a href="#v:s2cReferenceId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:h2cReferenceId" class="def">h2cReferenceId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#h2cReferenceId" class="link">Source</a> <a href="#v:h2cReferenceId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:h2cReference" class="def">h2cReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> <a href="src/U.Codebase.Sqlite.Operations.html#h2cReference" class="link">Source</a> <a href="#v:h2cReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2hReference" class="def">c2hReference</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2hReference" class="link">Source</a> <a href="#v:c2hReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cReferent" class="def">s2cReferent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Referent" title="U.Codebase.Sqlite.Referent">Referent</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cReferent" class="link">Source</a> <a href="#v:s2cReferent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cReferentId" class="def">s2cReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cReferentId" class="link">Source</a> <a href="#v:s2cReferentId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sReferentId" class="def">c2sReferentId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferentId" class="link">Source</a> <a href="#v:c2sReferentId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:h2cReferent" class="def">h2cReferent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:ReferentH" title="U.Codebase.Sqlite.Referent">ReferentH</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> <a href="src/U.Codebase.Sqlite.Operations.html#h2cReferent" class="link">Source</a> <a href="#v:h2cReferent" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h2>Edits transformations</h2></a><div class="top"><p class="src"><a id="v:s2cTermEdit" class="def">s2cTermEdit</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:TermEdit" title="U.Codebase.Sqlite.Patch.TermEdit">TermEdit</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:TermEdit" title="U.Codebase.TermEdit">TermEdit</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cTermEdit" class="link">Source</a> <a href="#v:s2cTermEdit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTyping" class="def">s2cTyping</a> :: <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:Typing" title="U.Codebase.Sqlite.Patch.TermEdit">Typing</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:Typing" title="U.Codebase.TermEdit">Typing</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cTyping" class="link">Source</a> <a href="#v:s2cTyping" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sTyping" class="def">c2sTyping</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-TermEdit.html#t:Typing" title="U.Codebase.TermEdit">Typing</a> -&gt; <a href="U-Codebase-Sqlite-Patch-TermEdit.html#t:Typing" title="U.Codebase.Sqlite.Patch.TermEdit">Typing</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sTyping" class="link">Source</a> <a href="#v:c2sTyping" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTypeEdit" class="def">s2cTypeEdit</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-TypeEdit.html#t:TypeEdit" title="U.Codebase.Sqlite.Patch.TypeEdit">TypeEdit</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-TypeEdit.html#t:TypeEdit" title="U.Codebase.TypeEdit">TypeEdit</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cTypeEdit" class="link">Source</a> <a href="#v:s2cTypeEdit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2lPatch" class="def">c2lPatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m (<a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchLocalIds" title="U.Codebase.Sqlite.Patch.Format">PatchLocalIds</a>, <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a>) <a href="src/U.Codebase.Sqlite.Operations.html#c2lPatch" class="link">Source</a> <a href="#v:c2lPatch" class="selflink">#</a></p><div class="doc"><p>assumes that all relevant values are already in the DB</p></div></div><div class="top"><p class="src"><a id="v:diffPatch" class="def">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a> <a href="src/U.Codebase.Sqlite.Operations.html#diffPatch" class="link">Source</a> <a href="#v:diffPatch" class="selflink">#</a></p><div class="doc"><p>produces a diff
 diff = full - ref; full = diff + ref</p></div></div><a href="#g:6" id="g:6"><h1>Deserialization helpers</h1></a><div class="top"><p class="src"><a id="v:decodeComponentLengthOnly" class="def">decodeComponentLengthOnly</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/U.Codebase.Sqlite.Operations.html#decodeComponentLengthOnly" class="link">Source</a> <a href="#v:decodeComponentLengthOnly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeTermElementWithType" class="def">decodeTermElementWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Operations.html#decodeTermElementWithType" class="link">Source</a> <a href="#v:decodeTermElementWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeTermElementDiscardingTerm" class="def">decodeTermElementDiscardingTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Operations.html#decodeTermElementDiscardingTerm" class="link">Source</a> <a href="#v:decodeTermElementDiscardingTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeTermElementDiscardingType" class="def">decodeTermElementDiscardingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>) <a href="src/U.Codebase.Sqlite.Operations.html#decodeTermElementDiscardingType" class="link">Source</a> <a href="#v:decodeTermElementDiscardingType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeDeclElement" class="def">decodeDeclElement</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:Err" title="U.Codebase.Sqlite.Operations">Err</a> m =&gt; <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#decodeDeclElement" class="link">Source</a> <a href="#v:decodeDeclElement" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>legacy conversion helpers</h1></a><div class="top"><p class="src"><a id="v:getCycleLen" class="def">getCycleLen</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/U.Codebase.Sqlite.Operations.html#getCycleLen" class="link">Source</a> <a href="#v:getCycleLen" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDeclTypeByReference" class="def">getDeclTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a> <a href="src/U.Codebase.Sqlite.Operations.html#getDeclTypeByReference" class="link">Source</a> <a href="#v:getDeclTypeByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:componentByObjectId" class="def">componentByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#componentByObjectId" class="link">Source</a> <a href="#v:componentByObjectId" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>Codebase operations</h1></a><a href="#g:9" id="g:9"><h2>Saving &amp; loading terms</h2></a><div class="top"><p class="src"><a id="v:saveTermComponent" class="def">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveTermComponent" class="link">Source</a> <a href="#v:saveTermComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveReferenceH" class="def">saveReferenceH</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveReferenceH" class="link">Source</a> <a href="#v:saveReferenceH" class="selflink">#</a></p><div class="doc"><p>Save the text and hash parts of a Reference to the database and substitute their ids.</p></div></div><div class="top"><p class="src"><a id="v:c2xTerm" class="def">c2xTerm</a> :: <span class="keyword">forall</span> m t d. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Operations.html#c2xTerm" class="link">Source</a> <a href="#v:c2xTerm" class="selflink">#</a></p><div class="doc"><p>implementation detail of c2{s,w}Term
  The Type is optional, because we don't store them for watch expression results.</p></div></div><div class="top"><p class="src"><a id="v:loadTermWithTypeByReference" class="def">loadTermWithTypeByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermWithTypeByReference" class="link">Source</a> <a href="#v:loadTermWithTypeByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTermByReference" class="def">loadTermByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermByReference" class="link">Source</a> <a href="#v:loadTermByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTypeOfTermByTermReference" class="def">loadTypeOfTermByTermReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTypeOfTermByTermReference" class="link">Source</a> <a href="#v:loadTypeOfTermByTermReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTermWithType" class="def">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#s2cTermWithType" class="link">Source</a> <a href="#v:s2cTermWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTerm" class="def">s2cTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#s2cTerm" class="link">Source</a> <a href="#v:s2cTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTypeOfTerm" class="def">s2cTypeOfTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#s2cTypeOfTerm" class="link">Source</a> <a href="#v:s2cTypeOfTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:localIdsToLookups" class="def">localIdsToLookups</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (t -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (d -&gt; m <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#localIdsToLookups" class="link">Source</a> <a href="#v:localIdsToLookups" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term*</p></div></div><div class="top"><p class="src"><a id="v:x2cTerm" class="def">x2cTerm</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> <a href="src/U.Codebase.Sqlite.Operations.html#x2cTerm" class="link">Source</a> <a href="#v:x2cTerm" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term*</p></div></div><div class="top"><p class="src"><a id="v:x2cTType" class="def">x2cTType</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> <a href="src/U.Codebase.Sqlite.Operations.html#x2cTType" class="link">Source</a> <a href="#v:x2cTType" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term*</p></div></div><div class="top"><p class="src"><a id="v:lookupText" class="def">lookupText</a> :: <span class="keyword">forall</span> m s w t. (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field1-39-" title="U.Util.Lens">Field1'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> t <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a>), <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field1-39-" title="U.Util.Lens">Field1'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> t), <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> t) =&gt; t -&gt; m <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> <a href="src/U.Codebase.Sqlite.Operations.html#lookupText" class="link">Source</a> <a href="#v:lookupText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupDefn" class="def">lookupDefn</a> :: <span class="keyword">forall</span> m s w d. (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field2-39-" title="U.Util.Lens">Field2'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> d <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a>), <a href="../unison-util-0.0.0/U-Util-Lens.html#t:Field2-39-" title="U.Util.Lens">Field2'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> d), <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> d) =&gt; d -&gt; m <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> <a href="src/U.Codebase.Sqlite.Operations.html#lookupDefn" class="link">Source</a> <a href="#v:lookupDefn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookup_" class="def">lookup_</a> :: (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> s m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> w m, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> t) =&gt; <a href="../lens-4.19.2/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> s (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> t t') -&gt; <a href="../lens-4.19.2/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> w (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> t) -&gt; (<a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; t') -&gt; t -&gt; m t' <a href="src/U.Codebase.Sqlite.Operations.html#lookup_" class="link">Source</a> <a href="#v:lookup_" class="selflink">#</a></p><div class="doc"><p>shared implementation of lookupTextHelper and lookupDefnHelper
  Look up a value in the LUT, or append it.</p></div></div><div class="top"><p class="src"><a id="v:c2sTerm" class="def">c2sTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Operations.html#c2sTerm" class="link">Source</a> <a href="#v:c2sTerm" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h3>Watch expressions</h3></a><div class="top"><p class="src"><a id="v:listWatches" class="def">listWatches</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#listWatches" class="link">Source</a> <a href="#v:listWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatch" class="def">loadWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadWatch" class="link">Source</a> <a href="#v:loadWatch" class="selflink">#</a></p><div class="doc"><p>returns Nothing if the expression isn't cached.</p></div></div><div class="top"><p class="src"><a id="v:saveWatch" class="def">saveWatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#saveWatch" class="link">Source</a> <a href="#v:saveWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearWatches" class="def">clearWatches</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#clearWatches" class="link">Source</a> <a href="#v:clearWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2wTerm" class="def">c2wTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:WatchLocalIds" title="U.Codebase.Sqlite.LocalIds">WatchLocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>) <a href="src/U.Codebase.Sqlite.Operations.html#c2wTerm" class="link">Source</a> <a href="#v:c2wTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:w2cTerm" class="def">w2cTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:WatchLocalIds" title="U.Codebase.Sqlite.LocalIds">WatchLocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#w2cTerm" class="link">Source</a> <a href="#v:w2cTerm" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>Saving &amp; loading type decls</h2></a><div class="top"><p class="src"><a id="v:saveDeclComponent" class="def">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveDeclComponent" class="link">Source</a> <a href="#v:saveDeclComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sDecl" class="def">c2sDecl</a> :: <span class="keyword">forall</span> m t d. <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#c2sDecl" class="link">Source</a> <a href="#v:c2sDecl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadDeclByReference" class="def">loadDeclByReference</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.5.6.2/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadDeclByReference" class="link">Source</a> <a href="#v:loadDeclByReference" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h1>Branch transformation</h1></a><div class="top"><p class="src"><a id="v:s2cBranch" class="def">s2cBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#s2cBranch" class="link">Source</a> <a href="#v:s2cBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BranchSavingState" class="def">BranchSavingState</a> = (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalPatchObjectId" title="U.Codebase.Sqlite.LocalIds">LocalPatchObjectId</a>, <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalBranchChildId" title="U.Codebase.Sqlite.LocalIds">LocalBranchChildId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#BranchSavingState" class="link">Source</a> <a href="#t:BranchSavingState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BranchSavingWriter" class="def">BranchSavingWriter</a> = (<a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>, <a href="../containers-0.6.5.1/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)) <a href="src/U.Codebase.Sqlite.Operations.html#BranchSavingWriter" class="link">Source</a> <a href="#t:BranchSavingWriter" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BranchSavingConstraint" class="def">BranchSavingConstraint</a> m = (<a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingState" title="U.Codebase.Sqlite.Operations">BranchSavingState</a> m, <a href="../mtl-2.2.2/Control-Monad-Writer-Class.html#t:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingWriter" title="U.Codebase.Sqlite.Operations">BranchSavingWriter</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#BranchSavingConstraint" class="link">Source</a> <a href="#t:BranchSavingConstraint" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BranchSavingMonad" class="def">BranchSavingMonad</a> m = <a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingState" title="U.Codebase.Sqlite.Operations">BranchSavingState</a> (<a href="../mtl-2.2.2/Control-Monad-Writer-Lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> <a href="U-Codebase-Sqlite-Operations.html#t:BranchSavingWriter" title="U.Codebase.Sqlite.Operations">BranchSavingWriter</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#BranchSavingMonad" class="link">Source</a> <a href="#t:BranchSavingMonad" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveRootBranch" class="def">saveRootBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveRootBranch" class="link">Source</a> <a href="#v:saveRootBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranch" class="def">saveBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m -&gt; m (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveBranch" class="link">Source</a> <a href="#v:saveBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadRootCausal" class="def">loadRootCausal</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#loadRootCausal" class="link">Source</a> <a href="#v:loadRootCausal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dataVersion" class="def">dataVersion</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; m <a href="U-Codebase-Sqlite-Queries.html#t:DataVersion" title="U.Codebase.Sqlite.Queries">DataVersion</a> <a href="src/U.Codebase.Sqlite.Operations.html#dataVersion" class="link">Source</a> <a href="#v:dataVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalBranchByCausalHash" class="def">loadCausalBranchByCausalHash</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m)) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalBranchByCausalHash" class="link">Source</a> <a href="#v:loadCausalBranchByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalByCausalHashId" class="def">loadCausalByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Causal" title="U.Codebase.Branch">Causal</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalByCausalHashId" class="link">Source</a> <a href="#v:loadCausalByCausalHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadBranchByCausalHashId" class="def">loadBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m)) <a href="src/U.Codebase.Sqlite.Operations.html#loadBranchByCausalHashId" class="link">Source</a> <a href="#v:loadBranchByCausalHashId" class="selflink">#</a></p><div class="doc"><p>is this even a thing?  loading a branch by causal hash?  yes I guess so.</p></div></div><div class="top"><p class="src"><a id="v:loadBranchByObjectId" class="def">loadBranchByObjectId</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> -&gt; m (<a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Branch" title="U.Codebase.Branch">Branch</a> m) <a href="src/U.Codebase.Sqlite.Operations.html#loadBranchByObjectId" class="link">Source</a> <a href="#v:loadBranchByObjectId" class="selflink">#</a></p></div><a href="#g:13" id="g:13"><h1>Patch transformation</h1></a><div class="top"><p class="src"><a id="v:loadPatchById" class="def">loadPatchById</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> <a href="src/U.Codebase.Sqlite.Operations.html#loadPatchById" class="link">Source</a> <a href="#v:loadPatchById" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:savePatch" class="def">savePatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> -&gt; m <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#savePatch" class="link">Source</a> <a href="#v:savePatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cPatch" class="def">s2cPatch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:Patch" title="U.Codebase.Sqlite.Patch.Full">Patch</a> -&gt; m <a href="../unison-codebase-0.0.0/U-Codebase-Branch.html#t:Patch" title="U.Codebase.Branch">Patch</a> <a href="src/U.Codebase.Sqlite.Operations.html#s2cPatch" class="link">Source</a> <a href="#v:s2cPatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deserializePatchObject" class="def">deserializePatchObject</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; m <a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchFormat" title="U.Codebase.Sqlite.Patch.Format">PatchFormat</a> <a href="src/U.Codebase.Sqlite.Operations.html#deserializePatchObject" class="link">Source</a> <a href="#v:deserializePatchObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lca" class="def">lca</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; <a href="U-Codebase-Sqlite-Connection.html#t:Connection" title="U.Codebase.Sqlite.Connection">Connection</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#lca" class="link">Source</a> <a href="#v:lca" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:before" class="def">before</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DB" title="U.Codebase.Sqlite.Queries">DB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; m (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="src/U.Codebase.Sqlite.Operations.html#before" class="link">Source</a> <a href="#v:before" class="selflink">#</a></p></div><a href="#g:14" id="g:14"><h1>Searches</h1></a><div class="top"><p class="src"><a id="v:termsHavingType" class="def">termsHavingType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsHavingType" class="link">Source</a> <a href="#v:termsHavingType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:typeReferenceForTerm" class="def">typeReferenceForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; m <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a> <a href="src/U.Codebase.Sqlite.Operations.html#typeReferenceForTerm" class="link">Source</a> <a href="#v:typeReferenceForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termsMentioningType" class="def">termsMentioningType</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsMentioningType" class="link">Source</a> <a href="#v:termsMentioningType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addTypeToIndexForTerm" class="def">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#addTypeToIndexForTerm" class="link">Source</a> <a href="#v:addTypeToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addTypeMentionsToIndexForTerm" class="def">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m () <a href="src/U.Codebase.Sqlite.Operations.html#addTypeMentionsToIndexForTerm" class="link">Source</a> <a href="#v:addTypeMentionsToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:componentReferencesByPrefix" class="def">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; m [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#componentReferencesByPrefix" class="link">Source</a> <a href="#v:componentReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termReferencesByPrefix" class="def">termReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#termReferencesByPrefix" class="link">Source</a> <a href="#v:termReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:declReferencesByPrefix" class="def">declReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#declReferencesByPrefix" class="link">Source</a> <a href="#v:declReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termReferentsByPrefix" class="def">termReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#termReferentsByPrefix" class="link">Source</a> <a href="#v:termReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:declReferentsByPrefix" class="def">declReferentsByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; m [(<a href="../unison-util-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])] <a href="src/U.Codebase.Sqlite.Operations.html#declReferentsByPrefix" class="link">Source</a> <a href="#v:declReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:branchHashesByPrefix" class="def">branchHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#branchHashesByPrefix" class="link">Source</a> <a href="#v:branchHashesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:causalHashesByPrefix" class="def">causalHashesByPrefix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-ShortHash.html#t:ShortBranchHash" title="U.Codebase.ShortHash">ShortBranchHash</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#causalHashesByPrefix" class="link">Source</a> <a href="#v:causalHashesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dependents" class="def">dependents</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#dependents" class="link">Source</a> <a href="#v:dependents" class="selflink">#</a></p><div class="doc"><p>returns a list of known definitions referencing <code>r</code></p></div></div><div class="top"><p class="src"><a id="v:derivedDependencies" class="def">derivedDependencies</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:EDB" title="U.Codebase.Sqlite.Operations">EDB</a> m =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; m (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#derivedDependencies" class="link">Source</a> <a href="#v:derivedDependencies" class="selflink">#</a></p><div class="doc"><p>returns empty set for unknown inputs; doesn't distinguish between term and decl</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>