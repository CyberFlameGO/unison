<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Codec.Binary.QuotedPrintable</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sandi-0.5: Data encoding library</span><ul class="links" id="page-menu"><li><a href="src/Codec.Binary.QuotedPrintable.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2012 Magnus Therning</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Codec.Binary.QuotedPrintable</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implementation of Quoted-Printable based on RFC 2045
 (<a href="http://tools.ietf.org/html/rfc2045">http://tools.ietf.org/html/rfc2045</a>).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:qpEncode">qpEncode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:qpEncodeSL">qpEncodeSL</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:qpDecode">qpDecode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:encode">encode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:decode">decode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:qpEncode" class="def">qpEncode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/Codec.Binary.QuotedPrintable.html#qpEncode" class="link">Source</a> <a href="#v:qpEncode" class="selflink">#</a></p><div class="doc"><p>Encoding function.</p><p>This function encodes <em>everything</em> that is passed in, it will not try to
 guess the native line ending for your architecture.  In other words, if you
 are using this to encode text you need to split it into separate lines
 before encoding.</p><p>This function allocates enough space to hold twice the size of the indata
 (or at least 512 bytes) and then encodes as much as possible of the indata.
 That means there is a risk that the encoded data won't fit and in that case
 the second part of the pair contains the remainder of the indata.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpEncode $ Data.ByteString.Char8.pack &quot;=&quot;
</code></strong>(&quot;=3D&quot;,&quot;&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>snd $ qpEncode $ Data.ByteString.Char8.pack $ Data.List.take 171 $ repeat '='
</code></strong>&quot;=&quot;
</pre><p>All space (0x20) and tab (0x9) characters are encoded:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpEncode $ Data.ByteString.Char8.pack &quot; \t&quot;
</code></strong>(&quot;=20=09&quot;,&quot;&quot;)
</pre><p>Since the input is supposed to have been split prior to calling this
 function all occurances of CR and LF are encoded.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpEncode $ Data.ByteString.Char8.pack &quot;\n\r\r\n\n\r&quot;
</code></strong>(&quot;=0A=0D=0D=0A=0A=0D&quot;,&quot;&quot;)
</pre><p>Soft line breaks are inserted as needed</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpEncode $ Data.ByteString.Char8.pack &quot;=========================&quot;
</code></strong>(&quot;=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D&quot;,&quot;&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:qpEncodeSL" class="def">qpEncodeSL</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/Codec.Binary.QuotedPrintable.html#qpEncodeSL" class="link">Source</a> <a href="#v:qpEncodeSL" class="selflink">#</a></p><div class="doc"><p>Single line encoding function.</p><p>Like <code><a href="Codec-Binary-QuotedPrintable.html#v:qpEncode" title="Codec.Binary.QuotedPrintable">qpEncode</a></code>, but without inserting soft line breaks.</p></div></div><div class="top"><p class="src"><a id="v:qpDecode" class="def">qpDecode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/Codec.Binary.QuotedPrintable.html#qpDecode" class="link">Source</a> <a href="#v:qpDecode" class="selflink">#</a></p><div class="doc"><p>Decoding function.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;foobar&quot;
</code></strong>Right &quot;foobar&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;1=20+=201=20=3D=202&quot;
</code></strong>Right &quot;1 + 1 = 2&quot;
</pre><p>The input data is allowed to use lowercase letters in the hexadecimal
 representation of an octets value, even though the standard says that only
 uppercase letters may be used:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=3D&quot;
</code></strong>Right &quot;=&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=3d&quot;
</code></strong>Right &quot;=&quot;
</pre><p>It also allows the input to encode _all_ octets in the hexadecimal
 representation:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=20!&quot;
</code></strong>Right (&quot; !&quot;,&quot;&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=20=21&quot;
</code></strong>Right (&quot; !&quot;,&quot;&quot;)
</pre><p>A <code>Left</code> value is only ever returned on decoding errors.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=2&quot;
</code></strong>Right (&quot;&quot;,&quot;=2&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;=2g&quot;
</code></strong>Left (&quot;&quot;,&quot;=2g&quot;)
</pre><p>Per the specification a CRLF pair is left in, but a single CR or LF is an
 error.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;\r\n&quot;
</code></strong>Right (&quot;\r\n&quot;,&quot;&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;\n&quot;
</code></strong>Left (&quot;&quot;,&quot;\n&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot;\r&quot;
</code></strong>Left (&quot;&quot;,&quot;\r&quot;)
</pre><p>the same goes for space and tab characters</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot; \t&quot;
</code></strong>Right (&quot; \t&quot;,&quot;&quot;)
</pre><p>The function deals properly with soft line breaks.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>qpDecode $ Data.ByteString.Char8.pack &quot; =\r\n&quot;
</code></strong>Right (&quot; &quot;,&quot;&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:encode" class="def">encode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.QuotedPrintable.html#encode" class="link">Source</a> <a href="#v:encode" class="selflink">#</a></p><div class="doc"><p>Convenient function that calls <code><a href="Codec-Binary-QuotedPrintable.html#v:qpEncode" title="Codec.Binary.QuotedPrintable">qpEncode</a></code> repeatedly until the whole input
 data is encoded.</p></div></div><div class="top"><p class="src"><a id="v:decode" class="def">decode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.QuotedPrintable.html#decode" class="link">Source</a> <a href="#v:decode" class="selflink">#</a></p><div class="doc"><p>A synonym for <code>qpDec</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>