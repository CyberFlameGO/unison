<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Codec.Binary.Uu</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sandi-0.5: Data encoding library</span><ul class="links" id="page-menu"><li><a href="src/Codec.Binary.Uu.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2012 Magnus Therning</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Codec.Binary.Uu</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Uuencoding is notoriously badly specified.  This implementation aims at
 being compatible with the GNU Sharutils
 (<a href="http://www.gnu.org/software/sharutils/">http://www.gnu.org/software/sharutils/</a>).</p><p>Just like Base64 encoding uuencoding expands blocks of 3 bytes into blocks
 of 4 bytes.  There is however no well defined ending to a piece of encoded
 data, instead uuencoded data is commonly transferred linewise where each
 line is prepended with the length of the data in the line.</p><p>This module currently only deals with the encoding.  Chopping the encoded
 data into lines, and unchopping lines into encoded data is left as an
 exercise to the reader.  (Patches are welcome.)</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:uuEncodePart">uuEncodePart</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:uuEncodeFinal">uuEncodeFinal</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:uuDecodePart">uuDecodePart</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:uuDecodeFinal">uuDecodeFinal</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:encode">encode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:decode">decode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:uuEncodePart" class="def">uuEncodePart</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/Codec.Binary.Uu.html#uuEncodePart" class="link">Source</a> <a href="#v:uuEncodePart" class="selflink">#</a></p><div class="doc"><p>Encoding function.</p><p>This function encodes as large a portion of the input as possible and
 returns the encoded part together with the remaining part.  Enough space is
 allocated for the encoding to make sure that the remaining part is less than
 3 bytes long, which means it can be passed to <code>uu_encode_final</code> as is.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuEncodePart $ Data.ByteString.Char8.pack &quot;foo&quot;
</code></strong>(&quot;9F]O&quot;,&quot;&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuEncodePart $ Data.ByteString.Char8.pack &quot;foob&quot;
</code></strong>(&quot;9F]O&quot;,&quot;b&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:uuEncodeFinal" class="def">uuEncodeFinal</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.Uu.html#uuEncodeFinal" class="link">Source</a> <a href="#v:uuEncodeFinal" class="selflink">#</a></p><div class="doc"><p>Encoding function for the final block.</p><p>The final block has to have a size less than 3.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuEncodeFinal $ Data.ByteString.Char8.pack &quot;r&quot;
</code></strong>Just &quot;&lt;@&quot;
</pre><p>Trying to pass in too large a block result in failure:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuEncodeFinal $ Data.ByteString.Char8.pack &quot;foo&quot;
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:uuDecodePart" class="def">uuDecodePart</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/Codec.Binary.Uu.html#uuDecodePart" class="link">Source</a> <a href="#v:uuDecodePart" class="selflink">#</a></p><div class="doc"><p>Decoding function.</p><p>Decode as large a portion of the input as possible.  Enough data is
 allocated for the output to ensure that the remainder is less than 4 bytes
 in size.  Success result in a <code>Right</code> value:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodePart $ Data.ByteString.Char8.pack &quot;9F]O&quot;
</code></strong>Right (&quot;foo&quot;,&quot;&quot;)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodePart $ Data.ByteString.Char8.pack &quot;9F]O8F$&quot;
</code></strong>Right (&quot;foo&quot;,&quot;8F$&quot;)
</pre><p>Failures occur on bad input and result in a <code>Left</code> value:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodePart $ Data.ByteString.Char8.pack &quot;9F 0&quot;
</code></strong>Left (&quot;&quot;,&quot;9F 0&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:uuDecodeFinal" class="def">uuDecodeFinal</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.Uu.html#uuDecodeFinal" class="link">Source</a> <a href="#v:uuDecodeFinal" class="selflink">#</a></p><div class="doc"><p>Decoding function for the final block.</p><p>The final block has to have a size of 0 or 4:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodeFinal $ Data.ByteString.Char8.pack &quot;9F\\&quot;
</code></strong>Just &quot;fo&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodeFinal $ Data.ByteString.Char8.pack &quot;&quot;
</code></strong>Just &quot;&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodeFinal $ Data.ByteString.Char8.pack &quot;9F&#172;&quot;
</code></strong>Nothing
</pre><p>But it must be the encoding of a block that is less than 3 bytes:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uuDecodeFinal $ encode $ Data.ByteString.Char8.pack &quot;foo&quot;
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:encode" class="def">encode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.Uu.html#encode" class="link">Source</a> <a href="#v:encode" class="selflink">#</a></p><div class="doc"><p>Convenience function that combines <code>uu_encode_part</code> and
 <code>uu_encode_final</code> to encode a complete string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encode $ Data.ByteString.Char8.pack &quot;foo&quot;
</code></strong>&quot;9F]O&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encode $ Data.ByteString.Char8.pack &quot;foobar&quot;
</code></strong>&quot;9F]O8F%R&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:decode" class="def">decode</a> :: <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Codec.Binary.Uu.html#decode" class="link">Source</a> <a href="#v:decode" class="selflink">#</a></p><div class="doc"><p>Convenience function that combines <code>uu_decode_part</code> and
 <code>uu_decode_final</code> to decode a complete string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decode $ Data.ByteString.Char8.pack &quot;9F]O&quot;
</code></strong>Right &quot;foo&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decode $ Data.ByteString.Char8.pack &quot;9F]O8F%R&quot;
</code></strong>Right &quot;foobar&quot;
</pre><p>Failures when decoding returns the decoded part and the remainder:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decode $ Data.ByteString.Char8.pack &quot;9F]O8F&#172;R&quot;
</code></strong>Left (&quot;foo&quot;,&quot;8F\172R&quot;)
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>